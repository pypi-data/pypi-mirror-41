{"version":3,"file":"b142e3eee1747bc9c7dc.chunk.js","sources":["webpack:///b142e3eee1747bc9c7dc.chunk.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{163:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_paper_icon_button_paper_icon_button__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98),_polymer_paper_input_paper_input__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79),_polymer_paper_item_paper_icon_item__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(162),_polymer_paper_item_paper_item_body__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(155),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_vaadin_vaadin_combo_box_vaadin_combo_box_light__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(182),_state_badge__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(161),_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(105),_mixins_localize_mixin__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72),_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(50);class HaEntityPicker extends Object(_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_10__.a)(Object(_mixins_localize_mixin__WEBPACK_IMPORTED_MODULE_9__.a)(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__.a)){static get template(){return _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__.a`\n      <style>\n        paper-input > paper-icon-button {\n          width: 24px;\n          height: 24px;\n          padding: 2px;\n          color: var(--secondary-text-color);\n        }\n        [hidden] {\n          display: none;\n        }\n      </style>\n      <vaadin-combo-box-light\n        items=\"[[_states]]\"\n        item-value-path=\"entity_id\"\n        item-label-path=\"entity_id\"\n        value=\"{{value}}\"\n        opened=\"{{opened}}\"\n        allow-custom-value=\"[[allowCustomEntity]]\"\n        on-change=\"_fireChanged\"\n      >\n        <paper-input\n          autofocus=\"[[autofocus]]\"\n          label=\"[[_computeLabel(label, localize)]]\"\n          class=\"input\"\n          autocapitalize=\"none\"\n          autocomplete=\"off\"\n          autocorrect=\"off\"\n          spellcheck=\"false\"\n          value=\"[[value]]\"\n          disabled=\"[[disabled]]\"\n        >\n          <paper-icon-button\n            slot=\"suffix\"\n            class=\"clear-button\"\n            icon=\"hass:close\"\n            no-ripple=\"\"\n            hidden$=\"[[!value]]\"\n            >Clear</paper-icon-button\n          >\n          <paper-icon-button\n            slot=\"suffix\"\n            class=\"toggle-button\"\n            icon=\"[[_computeToggleIcon(opened)]]\"\n            hidden=\"[[!_states.length]]\"\n            >Toggle</paper-icon-button\n          >\n        </paper-input>\n        <template>\n          <style>\n            paper-icon-item {\n              margin: -10px;\n              padding: 0;\n            }\n          </style>\n          <paper-icon-item>\n            <state-badge state-obj=\"[[item]]\" slot=\"item-icon\"></state-badge>\n            <paper-item-body two-line=\"\">\n              <div>[[_computeStateName(item)]]</div>\n              <div secondary=\"\">[[item.entity_id]]</div>\n            </paper-item-body>\n          </paper-icon-item>\n        </template>\n      </vaadin-combo-box-light>\n    `}static get properties(){return{allowCustomEntity:{type:Boolean,value:!1},hass:{type:Object,observer:\"_hassChanged\"},_hass:Object,_states:{type:Array,computed:\"_computeStates(_hass, domainFilter, entityFilter)\"},autofocus:Boolean,label:{type:String},value:{type:String,notify:!0},opened:{type:Boolean,value:!1,observer:\"_openedChanged\"},domainFilter:{type:String,value:null},entityFilter:{type:Function,value:null},disabled:Boolean}}_computeLabel(label,localize){return label===void 0?localize(\"ui.components.entity.entity-picker.entity\"):label}_computeStates(hass,domainFilter,entityFilter){if(!hass)return[];let entityIds=Object.keys(hass.states);if(domainFilter){entityIds=entityIds.filter(eid=>eid.substr(0,eid.indexOf(\".\"))===domainFilter)}let entities=entityIds.sort().map(key=>hass.states[key]);if(entityFilter){entities=entities.filter(entityFilter)}return entities}_computeStateName(state){return Object(_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_8__.a)(state)}_openedChanged(newVal){if(!newVal){this._hass=this.hass}}_hassChanged(newVal){if(!this.opened){this._hass=newVal}}_computeToggleIcon(opened){return opened?\"hass:menu-up\":\"hass:menu-down\"}_fireChanged(ev){ev.stopPropagation();this.fire(\"change\")}}customElements.define(\"ha-entity-picker\",HaEntityPicker)},166:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var index_es=__webpack_require__(169);__webpack_require__.d(__webpack_exports__,\"a\",function(){return struct});const struct=Object(index_es.a)({types:{\"entity-id\":function(value){if(\"string\"!==typeof value){return\"entity id should be a string\"}if(!value.includes(\".\")){return\"entity id should be in the format 'domain.entity'\"}return!0},icon:function(value){if(\"string\"!==typeof value){return\"icon should be a string\"}if(!value.includes(\":\")){return\"icon should be in the format 'mdi:icon'\"}return!0}}})},171:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return configElementStyle});var lit_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31);const configElementStyle=lit_element__WEBPACK_IMPORTED_MODULE_0__.c`\n  <style>\n    paper-toggle-button {\n      padding-top: 16px;\n    }\n    .side-by-side {\n      display: flex;\n    }\n    .side-by-side > * {\n      flex: 1;\n      padding-right: 4px;\n    }\n  </style>\n`},733:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,\"HuiAlarmPanelCardEditor\",function(){return HuiAlarmPanelCardEditor});var lit_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_polymer_paper_dropdown_menu_paper_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(128),_polymer_paper_item_paper_item__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(125),_polymer_paper_listbox_paper_listbox__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(127),_common_structs_struct__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(166),_mixins_lit_localize_mixin__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(154),_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(66),_config_elements_style__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(171),_components_entity_ha_entity_picker__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(163),_components_ha_icon__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(159);const cardConfigStruct=Object(_common_structs_struct__WEBPACK_IMPORTED_MODULE_4__.a)({type:\"string\",entity:\"string?\",name:\"string?\",states:\"array?\"});class HuiAlarmPanelCardEditor extends Object(_mixins_lit_localize_mixin__WEBPACK_IMPORTED_MODULE_5__.a)(lit_element__WEBPACK_IMPORTED_MODULE_0__.a){setConfig(config){config=cardConfigStruct(config);this._config=config}static get properties(){return{hass:{},_config:{}}}get _entity(){return this._config.entity||\"\"}get _name(){return this._config.name||\"\"}get _states(){return this._config.states||[]}render(){if(!this.hass){return lit_element__WEBPACK_IMPORTED_MODULE_0__.c``}return lit_element__WEBPACK_IMPORTED_MODULE_0__.c`\n      ${_config_elements_style__WEBPACK_IMPORTED_MODULE_7__.a} ${this.renderStyle()}\n      <div class=\"card-config\">\n        <div class=\"side-by-side\">\n          <paper-input\n            label=\"Name\"\n            .value=\"${this._name}\"\n            .configValue=\"${\"name\"}\"\n            @value-changed=\"${this._valueChanged}\"\n          ></paper-input>\n          <ha-entity-picker\n            .hass=\"${this.hass}\"\n            .value=\"${this._entity}\"\n            .configValue=${\"entity\"}\n            domain-filter=\"alarm_control_panel\"\n            @change=\"${this._valueChanged}\"\n            allow-custom-entity\n          ></ha-entity-picker>\n        </div>\n        <span>Used States</span> ${this._states.map((state,index)=>{return lit_element__WEBPACK_IMPORTED_MODULE_0__.c`\n              <div class=\"states\">\n                <paper-item>${state}</paper-item>\n                <ha-icon\n                  class=\"deleteState\"\n                  .value=\"${index}\"\n                  icon=\"hass:close\"\n                  @click=${this._stateRemoved}\n                ></ha-icon>\n              </div>\n            `})}\n        <paper-dropdown-menu\n          label=\"Available States\"\n          @value-changed=\"${this._stateAdded}\"\n        >\n          <paper-listbox slot=\"dropdown-content\">\n            ${[\"arm_home\",\"arm_away\",\"arm_night\",\"arm_custom_bypass\"].map(state=>{return lit_element__WEBPACK_IMPORTED_MODULE_0__.c`\n                  <paper-item>${state}</paper-item>\n                `})}\n          </paper-listbox>\n        </paper-dropdown-menu>\n      </div>\n    `}renderStyle(){return lit_element__WEBPACK_IMPORTED_MODULE_0__.c`\n      <style>\n        .states {\n          display: flex;\n          flex-direction: row;\n        }\n        .deleteState {\n          visibility: hidden;\n        }\n        .states:hover > .deleteState {\n          visibility: visible;\n        }\n        ha-icon {\n          padding-top: 12px;\n        }\n      </style>\n    `}_stateRemoved(ev){if(!this._config||!this._states||!this.hass){return}const target=ev.target,index=+target.value;if(-1<index){const newStates=this._states;newStates.splice(index,1);this._config=Object.assign({},this._config,{states:newStates});Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.a)(this,\"config-changed\",{config:this._config})}}_stateAdded(ev){if(!this._config||!this.hass){return}const target=ev.target;if(!target.value||0<=this._states.indexOf(target.value)){return}const newStates=this._states;newStates.push(target.value);this._config=Object.assign({},this._config,{states:newStates});target.value=\"\";Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.a)(this,\"config-changed\",{config:this._config})}_valueChanged(ev){if(!this._config||!this.hass){return}const target=ev.target;if(this[`_${target.configValue}`]===target.value){return}if(target.configValue){if(\"\"===target.value){delete this._config[target.configValue]}else{this._config=Object.assign({},this._config,{[target.configValue]:target.value})}}Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.a)(this,\"config-changed\",{config:this._config})}}customElements.define(\"hui-alarm-panel-card-editor\",HuiAlarmPanelCardEditor)}}]);"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}