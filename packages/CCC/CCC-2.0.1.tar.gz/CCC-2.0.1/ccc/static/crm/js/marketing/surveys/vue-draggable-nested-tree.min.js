/*!
 * vue-draggable-nested-tree v2.2.4
 * (c) 2018-present phphe <phphe@outlook.com>
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.vueDraggableNestedTree={})}(this,function(t){"use strict";var e=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},n=function(t){return Object(e(t))},r={}.hasOwnProperty,o=function(t,e){return r.call(t,e)},i={}.toString,a=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return i.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},c=function(t){return a(e(t))},u=Math.ceil,l=Math.floor,d=function(t){return isNaN(t=+t)?0:(t>0?l:u)(t)},s=Math.min,f=Math.max,p=Math.min;function h(t,e){return t(e={exports:{}},e.exports),e.exports}var g,v=h(function(t){var e=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=e)}),y=(v.version,h(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),m=h(function(t){var e=y["__core-js_shared__"]||(y["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:v.version,mode:"pure",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),b=0,N=Math.random(),_=m("keys"),x=(g=!1,function(t,e,n){var r,o,i=c(t),a=(r=i.length)>0?s(d(r),9007199254740991):0,u=function(t,e){return(t=d(t))<0?f(t+e,0):p(t,e)}(n,a);if(g&&e!=e){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((g||u in i)&&i[u]===e)return g||u||0;return!g&&-1}),O=function(t){return _[t]||(_[t]=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++b+N).toString(36))}(t))}("IE_PROTO"),E="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),S=Object.keys||function(t){return function(t,e){var n,r=c(t),i=0,a=[];for(n in r)n!=O&&o(r,n)&&a.push(n);for(;e.length>i;)o(r,n=e[i++])&&(~x(a,n)||a.push(n));return a}(t,E)},T=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t){return"object"==typeof t?null!==t:"function"==typeof t},P=function(t){if(!w(t))throw TypeError(t+" is not an object!");return t},j=function(t){try{return!!t()}catch(t){return!0}},I=!j(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),A=y.document,k=w(A)&&w(A.createElement),C=!I&&!j(function(){return 7!=Object.defineProperty((t="div",k?A.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),M=Object.defineProperty,R={f:I?Object.defineProperty:function(t,e,n){if(P(t),e=function(t,e){if(!w(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!w(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),P(n),C)try{return M(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},L=I?function(t,e,n){return R.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},D=function(t,e,n){var r,i,a,c=t&D.F,u=t&D.G,l=t&D.S,d=t&D.P,s=t&D.B,f=t&D.W,p=u?v:v[e]||(v[e]={}),h=p.prototype,g=u?y:l?y[e]:(y[e]||{}).prototype;for(r in u&&(n=e),n)(i=!c&&g&&void 0!==g[r])&&o(p,r)||(a=i?g[r]:n[r],p[r]=u&&"function"!=typeof g[r]?n[r]:s&&i?T(a,y):f&&g[r]==a?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(a):d&&"function"==typeof a?T(Function.call,a):a,d&&((p.virtual||(p.virtual={}))[r]=a,t&D.R&&h&&!h[r]&&L(h,r,a)))};D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var F=D;!function(t,e){var n=(v.Object||{})[t]||Object[t],r={};r[t]=e(n),F(F.S+F.F*j(function(){n(1)}),"Object",r)}("keys",function(){return function(t){return S(n(t))}});var B=v.Object.keys,$=h(function(t){var e=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=e)}),H=($.version,h(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),V=h(function(t){var e=H["__core-js_shared__"]||(H["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:$.version,mode:"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),G=0,W=Math.random(),Y=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++G+W).toString(36))},q=h(function(t){var e=V("wks"),n=H.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:Y)("Symbol."+t))}).store=e}),U=function(t){return"object"==typeof t?null!==t:"function"==typeof t},z=function(t){if(!U(t))throw TypeError(t+" is not an object!");return t},X=function(t){try{return!!t()}catch(t){return!0}},J=!X(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),K=H.document,Q=U(K)&&U(K.createElement),Z=function(t){return Q?K.createElement(t):{}},tt=!J&&!X(function(){return 7!=Object.defineProperty(Z("div"),"a",{get:function(){return 7}}).a}),et=function(t,e){if(!U(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!U(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!U(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!U(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},nt=Object.defineProperty,rt={f:J?Object.defineProperty:function(t,e,n){if(z(t),e=et(e,!0),z(n),tt)try{return nt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},ot=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},it=J?function(t,e,n){return rt.f(t,e,ot(1,n))}:function(t,e,n){return t[e]=n,t},at=q("unscopables"),ct=Array.prototype;null==ct[at]&&it(ct,at,{});var ut=function(t){ct[at][t]=!0},lt=function(t,e){return{value:e,done:!!t}},dt={},st={}.toString,ft=function(t){return st.call(t).slice(8,-1)},pt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==ft(t)?t.split(""):Object(t)},ht=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},gt=function(t){return pt(ht(t))},vt={}.hasOwnProperty,yt=function(t,e){return vt.call(t,e)},mt=h(function(t){var e=Y("src"),n=Function.toString,r=(""+n).split("toString");$.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,i){var a="function"==typeof o;a&&(yt(o,"name")||it(o,"name",n)),t[n]!==o&&(a&&(yt(o,e)||it(o,e,t[n]?""+t[n]:r.join(String(n)))),t===H?t[n]=o:i?t[n]?t[n]=o:it(t,n,o):(delete t[n],it(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),bt=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},Nt=function(t,e,n){var r,o,i,a,c=t&Nt.F,u=t&Nt.G,l=t&Nt.S,d=t&Nt.P,s=t&Nt.B,f=u?H:l?H[e]||(H[e]={}):(H[e]||{}).prototype,p=u?$:$[e]||($[e]={}),h=p.prototype||(p.prototype={});for(r in u&&(n=e),n)i=((o=!c&&f&&void 0!==f[r])?f:n)[r],a=s&&o?bt(i,H):d&&"function"==typeof i?bt(Function.call,i):i,f&&mt(f,r,i,t&Nt.U),p[r]!=i&&it(p,r,a),d&&h[r]!=i&&(h[r]=i)};H.core=$,Nt.F=1,Nt.G=2,Nt.S=4,Nt.P=8,Nt.B=16,Nt.W=32,Nt.U=64,Nt.R=128;var _t=Nt,xt=Math.ceil,Ot=Math.floor,Et=function(t){return isNaN(t=+t)?0:(t>0?Ot:xt)(t)},St=Math.min,Tt=function(t){return t>0?St(Et(t),9007199254740991):0},wt=Math.max,Pt=Math.min,jt=V("keys"),It=function(t){return jt[t]||(jt[t]=Y(t))},At=function(t){return function(e,n,r){var o,i=gt(e),a=Tt(i.length),c=function(t,e){return(t=Et(t))<0?wt(t+e,0):Pt(t,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}}(!1),kt=It("IE_PROTO"),Ct=function(t,e){var n,r=gt(t),o=0,i=[];for(n in r)n!=kt&&yt(r,n)&&i.push(n);for(;e.length>o;)yt(r,n=e[o++])&&(~At(i,n)||i.push(n));return i},Mt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Rt=Object.keys||function(t){return Ct(t,Mt)},Lt=J?Object.defineProperties:function(t,e){z(t);for(var n,r=Rt(e),o=r.length,i=0;o>i;)rt.f(t,n=r[i++],e[n]);return t},Dt=H.document,Ft=Dt&&Dt.documentElement,Bt=It("IE_PROTO"),$t=function(){},Ht=function(){var t,e=Z("iframe"),n=Mt.length;for(e.style.display="none",Ft.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ht=t.F;n--;)delete Ht.prototype[Mt[n]];return Ht()},Vt=Object.create||function(t,e){var n;return null!==t?($t.prototype=z(t),n=new $t,$t.prototype=null,n[Bt]=t):n=Ht(),void 0===e?n:Lt(n,e)},Gt=rt.f,Wt=q("toStringTag"),Yt=function(t,e,n){t&&!yt(t=n?t:t.prototype,Wt)&&Gt(t,Wt,{configurable:!0,value:e})},qt={};it(qt,q("iterator"),function(){return this});var Ut=function(t,e,n){t.prototype=Vt(qt,{next:ot(1,n)}),Yt(t,e+" Iterator")},zt=function(t){return Object(ht(t))},Xt=It("IE_PROTO"),Jt=Object.prototype,Kt=Object.getPrototypeOf||function(t){return t=zt(t),yt(t,Xt)?t[Xt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Jt:null},Qt=q("iterator"),Zt=!([].keys&&"next"in[].keys()),te=function(){return this},ee=function(t,e,n,r,o,i,a){Ut(n,e,r);var c,u,l,d=function(t){if(!Zt&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},s=e+" Iterator",f="values"==o,p=!1,h=t.prototype,g=h[Qt]||h["@@iterator"]||o&&h[o],v=g||d(o),y=o?f?d("entries"):v:void 0,m="Array"==e&&h.entries||g;if(m&&(l=Kt(m.call(new t)))!==Object.prototype&&l.next&&(Yt(l,s,!0),"function"!=typeof l[Qt]&&it(l,Qt,te)),f&&g&&"values"!==g.name&&(p=!0,v=function(){return g.call(this)}),(Zt||p||!h[Qt])&&it(h,Qt,v),dt[e]=v,dt[s]=te,o)if(c={values:f?v:d("values"),keys:i?v:d("keys"),entries:y},a)for(u in c)u in h||mt(h,u,c[u]);else _t(_t.P+_t.F*(Zt||p),e,c);return c}(Array,"Array",function(t,e){this._t=gt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,lt(1)):lt(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");dt.Arguments=dt.Array,ut("keys"),ut("values"),ut("entries");for(var ne=q("iterator"),re=q("toStringTag"),oe=dt.Array,ie={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ae=Rt(ie),ce=0;ce<ae.length;ce++){var ue,le=ae[ce],de=ie[le],se=H[le],fe=se&&se.prototype;if(fe&&(fe[ne]||it(fe,ne,oe),fe[re]||it(fe,re,le),dt[le]=oe,de))for(ue in ee)fe[ue]||mt(fe,ue,ee[ue],!0)}var pe={f:Object.getOwnPropertySymbols},he={f:{}.propertyIsEnumerable},ge=Object.assign,ve=!ge||j(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=ge({},t)[n]||Object.keys(ge({},e)).join("")!=r})?function(t,e){for(var r=n(t),o=arguments.length,i=1,c=pe.f,u=he.f;o>i;)for(var l,d=a(arguments[i++]),s=c?S(d).concat(c(d)):S(d),f=s.length,p=0;f>p;)u.call(d,l=s[p++])&&(r[l]=d[l]);return r}:ge;F(F.S+F.F,"Object",{assign:ve});var ye=v.Object.assign,me={f:{}.propertyIsEnumerable},be=Object.getOwnPropertyDescriptor,Ne={f:J?be:function(t,e){if(t=gt(t),e=et(e,!0),tt)try{return be(t,e)}catch(t){}if(yt(t,e))return ot(!me.f.call(t,e),t[e])}},_e=function(t,e){if(z(t),!U(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},xe={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=bt(Function.call,Ne.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return _e(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:_e}.set,Oe=Mt.concat("length","prototype"),Ee={f:Object.getOwnPropertyNames||function(t){return Ct(t,Oe)}},Se="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Te="["+Se+"]",we=RegExp("^"+Te+Te+"*"),Pe=RegExp(Te+Te+"*$"),je=function(t,e,n){var r={},o=X(function(){return!!Se[t]()||"​"!="​"[t]()}),i=r[t]=o?e(Ie):Se[t];n&&(r[n]=i),_t(_t.P+_t.F*o,"String",r)},Ie=je.trim=function(t,e){return t=String(ht(t)),1&e&&(t=t.replace(we,"")),2&e&&(t=t.replace(Pe,"")),t},Ae=je,ke=Ee.f,Ce=Ne.f,Me=rt.f,Re=Ae.trim,Le=H.Number,De=Le,Fe=Le.prototype,Be="Number"==ft(Vt(Fe)),$e="trim"in String.prototype,He=function(t){var e=et(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=$e?e.trim():Re(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,c=e.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,r)}}return+e};if(!Le(" 0o1")||!Le("0b1")||Le("+0x1")){Le=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Le&&(Be?X(function(){Fe.valueOf.call(n)}):"Number"!=ft(n))?function(t,e,n){var r,o=e.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&U(r)&&xe&&xe(t,r),t}(new De(He(e)),n,Le):He(e)};for(var Ve,Ge=J?ke(De):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),We=0;Ge.length>We;We++)yt(De,Ve=Ge[We])&&!yt(Le,Ve)&&Me(Le,Ve,Ce(De,Ve));Le.prototype=Fe,Fe.constructor=Le,mt(H,"Number",Le)}function Ye(t,e){return 1===arguments.length&&(e=t,t=0),Math.floor(Math.random()*(e-t+1)+t)}function qe(t,e){for(var n,r=0;(n=t.indexOf(e))>-1;)t.splice(n,1),r++;return r}function Ue(t){var e=t.getBoundingClientRect(),n=function(){if("undefined"!=typeof pageYOffset)return{top:pageYOffset,left:pageXOffset};var t=document.body,e=document.documentElement;return{top:(e=e.clientHeight?e:t).scrollTop,left:e.scrollLeft}}();return{x:e.left+n.left,y:e.top+n.top}}function ze(t){for(var e=function(t){var e=t.offsetParent;return(!e||e===document.body&&"static"===getComputedStyle(document.body).position)&&(e=document.body.parentElement),e}(t),n={x:t.offsetLeft,y:t.offsetTop},r=t;(r=r.parentElement)!==e&&r;)n.x-=r.scrollLeft,n.y-=r.scrollTop;return n}function Xe(t,e){t["original_".concat(e)]=t.getAttribute(e)}function Je(t,e){var n="original_".concat(e);t.setAttribute(e,t[n])}function Ke(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function Qe(t,e,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];t.addEventListener?t.addEventListener.apply(t,[e,n].concat(o)):t.attachEvent&&t.attachEvent.apply(t,["on".concat(e),n].concat(o))}function Ze(t,e,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];t.removeEventListener?t.removeEventListener.apply(t,[e,n].concat(o)):t.detachEvent&&t.detachEvent.apply(t,["on".concat(e),n].concat(o))}function tn(t,e,n,r,o){var i,a,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;null==n&&(n=0,r=t.length-1);for(var u,l=0;n>=0&&n<=r;){if(l>=c)throw Error("binarySearch: loop times is over ".concat(c,", you can increase the limit."));if((u=e(a=t[i=Math.floor((r-n)/2+n)],l))>0)r=i-1;else{if(!(u<0))return{index:i,value:a,count:l+1,hit:!0};n=i+1}l++}return o?{index:i,value:a,count:l+1,hit:!1,bigger:u>0}:null}var en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function nn(t,e){var n,r=arguments[3],o=(n=t,"[object Array]"===Object.prototype.toString.call(n)?t:[t]).map(function(t,e){return{item:t,index:e}});r&&o.reverse();for(var i=function(){var t=o.shift(),n=t.item,i=t.index,a=t.parent,c=e(n,i,a);if(!1===c)return{v:void 0};if("skip children"===c)return"continue";if("skip siblings"===c&&(o=o.filter(function(t){return t.parent!==a})),n.children){var u,l=n.children;r&&(l=l.slice()).reverse();var d=l.map(function(t,e){return{item:t,index:e,parent:n}});(u=o).push.apply(u,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(d))}};o.length;){var a=i();switch(a){case"continue":continue;default:if("object"===(void 0===a?"undefined":en(a)))return a.v}}}function rn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";t[r]&&qe(t[r][n],t),t[r]=e}function on(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(t!==e){var o=e[r][n],i=o.indexOf(e);o[i+1]!==t&&(t[r]===e[r]?(qe(o,t),i=o.indexOf(e)):rn(t,e[r]),o.splice(i+1,0,t))}}function an(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(t===e)throw"can't append to self";var r=e[n];r[r.length-1]!==t&&(rn(t,e),r.push(t))}var cn=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="TreeNode.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tree-node",class:[t.data.active?t.store.activatedClass:"",t.data.open?t.store.openedClass:"",t.data.class],style:t.data.style,attrs:{id:t.data._id}},[t.isRoot?t._e():n("div",{staticClass:"tree-node-inner-back",class:[t.data.innerBackClass],style:[t.innerBackStyle,t.data.innerBackStyle]},[n("div",{staticClass:"tree-node-inner",class:[t.data.innerClass],style:[t.data.innerStyle]},[t._t("default",null,{data:t.data,store:t.store,vm:t.vm})],2)]),t.childrenVisible?n("div",{staticClass:"tree-node-children"},t._l(t.data.children,function(e){return n("TreeNode",{key:e._id,attrs:{data:e,store:t.store,level:t.childrenLevel},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,{data:e.data,store:e.store,vm:e.vm})]}}])})}),1):t._e()])},staticRenderFns:[]},0,{name:"TreeNode",props:{data:{},store:{},level:{default:0}},data:function(){return{vm:this}},computed:{childrenLevel:function(){return this.level+1},isRoot:function(){return this.data.isRoot},childrenVisible:function(){var t=this.data;return this.isRoot||t.children&&t.children.length&&t.open},innerBackStyle:function(){var t={marginBottom:this.store.space+"px"};return!this.isRoot&&this.level>1&&(t.paddingLeft=(this.level-1)*this.store.indent+"px"),t}},watch:{data:{immediate:!0,handler:function(t){t&&(t._vm=this,t._treeNodePropertiesCompleted||t.isRoot||this.store.compeleteNode(t,this.$parent.data))}}}},void 0,!1);var un,ln,dn,sn=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="Tree.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"he-tree tree"},[n("TreeNode",{attrs:{data:t.rootData,store:t.store},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,{data:e.data,store:t.store,vm:e.vm})]}}])})],1)},staticRenderFns:[]},0,{props:{data:{},idLength:{type:Number,default:5},indent:{type:Number,default:16},activatedClass:{default:"active"},openedClass:{default:"open"},space:{type:Number,default:10}},components:{TreeNode:cn},data:function(){return{store:this,rootData:null}},watch:{data:{immediate:!0,handler:function(t,e){var n=this;t!==e&&(this.rootData=this.rootData||{isRoot:!0,_id:"tree_".concat(this._uid,"_node_root")},nn(t,function(t,e,r){n.compeleteNode(t,r)}),this.rootData.children=t)}}},methods:{compeleteNode:function(t,e){var n={open:!0,children:[],active:!1,style:{},class:"",innerStyle:{},innerClass:"",innerBackStyle:{},innerBackClass:{}};for(var r in n)t.hasOwnProperty(r)||this.$set(t,r,n[r]);this.$set(t,"parent",e||this.rootData),t.hasOwnProperty("_id")||(t._id="tree_".concat(this._uid,"_node_").concat(function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<t;o++)n+=r[Ye(r.length-1)];return e+n}(this.idLength))),t._treeNodePropertiesCompleted=!0},pure:function(t,e,n){var r=this,o=ye({},t);delete o._id,delete o.parent,delete o.children,delete o.open,delete o.active,delete o.style,delete o.class,delete o.innerStyle,delete o.innerClass,delete o.innerBackStyle,delete o.innerBackClass;for(var i=B(o),a=0;a<i.length;a++){var c=i[a];"_"===c[0]&&delete o[c]}return e&&t.children&&(o.children=t.children.slice(),o.children.forEach(function(t,n){o.children[n]=r.pure(t,e)})),n&&n(o,t)||o},getNodeById:function(t){var e;return nn(this.rootData.children,function(n){if(n._id===t)return e=n,!1}),e},getActivated:function(){var t=[];return nn(this.rootData.children,function(e){e.active&&t.push(e)}),t},getOpened:function(){var t=[];return nn(this.rootData.children,function(e){e.open&&t.push(e)}),t},activeNode:function(t,e){this.activated;e&&this.getActivated().forEach(function(t){t.active=!1}),t.active=!0},toggleActive:function(t,e){t.active?t.active=!1:this.activeNode(t,e)},openNode:function(t,e){var n=this;this.opened;e&&this.getOpened().forEach(function(t){t.open=!1,n.$emit("nodeOpenChanged",t)}),t.open=!0,this.$emit("nodeOpenChanged",t)},toggleOpen:function(t,e){t.open?(t.open=!1,this.$emit("nodeOpenChanged",t)):this.openNode(t,e)},getPureData:function(t){return this.pure(this.rootData,!0,t).children},deleteNode:function(t){return qe(t.parent.children,t)}}},void 0,!1),fn=(un=!0,function(t,e){var n,r,o=String(ht(t)),i=Et(e),a=o.length;return i<0||i>=a?un?"":void 0:(n=o.charCodeAt(i))<55296||n>56319||i+1===a||(r=o.charCodeAt(i+1))<56320||r>57343?un?o.charAt(i):n:un?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}),pn=function(t,e,n){return e+(n?fn(t,e).length:1)},hn=q("toStringTag"),gn="Arguments"==ft(function(){return arguments}()),vn=RegExp.prototype.exec,yn=function(t,e){var n,r,o,i,a=t.exec;if("function"==typeof a){var c=a.call(t,e);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==(void 0===(n=t)?"Undefined":null===n?"Null":"string"==typeof(o=function(t,e){try{return t[e]}catch(t){}}(r=Object(n),hn))?o:gn?ft(r):"Object"==(i=ft(r))&&"function"==typeof r.callee?"Arguments":i))throw new TypeError("RegExp#exec called on incompatible receiver");return vn.call(t,e)},mn=RegExp.prototype.exec,bn=String.prototype.replace,Nn=mn,_n=(ln=/a/,dn=/b*/g,mn.call(ln,"a"),mn.call(dn,"a"),0!==ln.lastIndex||0!==dn.lastIndex),xn=void 0!==/()??/.exec("")[1];(_n||xn)&&(Nn=function(t){var e,n,r,o,i=this;return xn&&(n=new RegExp("^"+i.source+"$(?!\\s)",function(){var t=z(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(i))),_n&&(e=i.lastIndex),r=mn.call(i,t),_n&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),xn&&r&&r.length>1&&bn.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var On=Nn;_t({target:"RegExp",proto:!0,forced:On!==/./.exec},{exec:On});var En=q("species"),Sn=!X(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Tn=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),wn=Math.max,Pn=Math.min,jn=Math.floor,In=/\$([$&`']|\d\d?|<[^>]*>)/g,An=/\$([$&`']|\d\d?)/g;!function(t,e,n){var r=q(t),o=!X(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)}),i=o?!X(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[En]=function(){return n}),n[r](""),!e}):void 0;if(!o||!i||"replace"===t&&!Sn||"split"===t&&!Tn){var a=/./[r],c=n(ht,r,""[t],function(t,e,n,r,i){return e.exec===On?o&&!i?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),u=c[0],l=c[1];mt(String.prototype,t,u),it(RegExp.prototype,r,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}}("replace",2,function(t,e,n,r){return[function(r,o){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(t,e){var i=r(n,t,this,e);if(i.done)return i.value;var a=z(t),c=String(this),u="function"==typeof e;u||(e=String(e));var l=a.global;if(l){var d=a.unicode;a.lastIndex=0}for(var s=[];;){var f=yn(a,c);if(null===f)break;if(s.push(f),!l)break;""===String(f[0])&&(a.lastIndex=pn(c,Tt(a.lastIndex),d))}for(var p,h="",g=0,v=0;v<s.length;v++){f=s[v];for(var y=String(f[0]),m=wn(Pn(Et(f.index),c.length),0),b=[],N=1;N<f.length;N++)b.push(void 0===(p=f[N])?p:String(p));var _=f.groups;if(u){var x=[y].concat(b,m,c);void 0!==_&&x.push(_);var O=String(e.apply(void 0,x))}else O=o(y,c,m,b,_,e);m>=g&&(h+=c.slice(g,m)+O,g=m+y.length)}return h+c.slice(g)}];function o(t,e,r,o,i,a){var c=r+t.length,u=o.length,l=An;return void 0!==i&&(i=zt(i),l=In),n.call(a,l,function(n,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":l=i[a.slice(1,-1)];break;default:var d=+a;if(0===d)return a;if(d>u){var s=jn(d/10);return 0===s?a:s<=u?void 0===o[s-1]?a.charAt(1):o[s-1]+a.charAt(1):a}l=o[d-1]}return void 0===l?"":l})}});var kn={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},Cn={isTouch:function(t){return t.type&&t.type.startsWith("touch")},_getStore:function(t){return t._wrapperStore||(t._wrapperStore=[]),t._wrapperStore},on:function(t,e,n){var r,o,i=this._getStore(t),a=this,c=function(t){var r;if(a.isTouch(t))r={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY};else if(r={x:t.pageX,y:t.pageY},"start"===e&&1!==t.which)return;return n.call(this,t,r)};i.push({handler:n,wrapper:c});for(var u=arguments.length,l=new Array(u>3?u-3:0),d=3;d<u;d++)l[d-3]=arguments[d];(r=Qe).call.apply(r,[null,t,kn[e][0],c].concat(l)),(o=Qe).call.apply(o,[null,t,kn[e][1],c].concat(l))},off:function(t,e,n){for(var r=this._getStore(t),o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];for(var c=r.length-1;c>=0;c--){var u,l,d=r[c],s=d.handler,f=d.wrapper;if(n===s)(u=Ze).call.apply(u,[null,t,kn[e][0],f].concat(i)),(l=Ze).call.apply(l,[null,t,kn[e][1],f].concat(i)),r.splice(c,1)}}};function Mn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==e.minTranslate&&(e.minTranslate=10);var n={movedCount:0},r=function(){Cn.off(t,"end",t._draggbleEventHandler),Ze(t,"selectstart",c),delete t._draggbleEventHandler};return t._draggbleEventHandler&&r(),t._draggbleEventHandler=function(t,e){n.mouse={x:e.x,y:e.y},n.initialMouse=Object.assign({},n.mouse),Cn.on(document,"move",i,{passive:!1}),Cn.on(window,"end",a)},Cn.on(t,"start",t._draggbleEventHandler),Qe(t,"selectstart",c),r;function o(r){var o=function(){var r=e.getEl?e.getEl(t,e):t,o=r;e.clone&&(n.triggerEl=r,o=r.cloneNode(!0),r.parentElement.appendChild(o));return{position:ze(o),el:o}}(),i=o.el,a=o.position;if(n.el=i,n.initialPosition=Object.assign({},a),!1===(e.drag&&e.drag(r,e,n)))return!1;var c=function(t){var e=t.style.display;t.style.display="block";var n={width:t.offsetWidth,height:t.offsetHeight};return t.style.display=e,n}(i),u=Object.assign({width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),zIndex:9999,opacity:.6,position:"absolute",left:a.x+"px",top:a.y+"px"},e.style||e.getStyle&&e.getStyle(e)||{});for(var l in Xe(i,"style"),u)i.style[l]=u[l];Xe(i,"class"),function(t,e){Ke(t,e)||(t.classList?t.classList.add(e):t.className+=" "+e)}(i,e.draggingClass)}function i(t,r){n.mouse={x:r.x,y:r.y};var i=n.move={x:n.mouse.x-n.initialMouse.x,y:n.mouse.y-n.initialMouse.y};if(0===n.movedCount&&e.minTranslate){var a=Math.pow(n.move.x,2),c=Math.pow(n.move.y,2);if(Math.pow(a+c,.5)<e.minTranslate)return}var u=!0;if(0===n.movedCount&&!1===o(t)&&(u=!1),t.preventDefault(),u&&e.moving&&!1===e.moving(t,e,n)&&(u=!1),u){if(!n||!n.el)return;Object.assign(n.el.style,{left:n.initialPosition.x+i.x+"px",top:n.initialPosition.y+i.y+"px"}),n.movedCount++}}function a(t){if(Cn.off(document,"move",i),Cn.off(window,"end",a),n.movedCount>0){n.movedCount=0;var r=n.el;e.clone?r.parentElement.removeChild(r):(Je(r,"style"),Je(r,"class")),e.drop&&e.drop(t,e,n)}n={movedCount:0}}function c(t){t.preventDefault()}}var Rn,Ln,Dn,Fn,Bn,$n,Hn,Vn,Gn,Wn=Array.isArray||function(t){return"Array"==ft(t)},Yn=q("species"),qn=(Dn=1==(Rn=5),Fn=2==Rn,Bn=3==Rn,$n=4==Rn,Hn=6==Rn,Vn=5==Rn||Hn,Gn=Ln||function(t,e){return new(function(t){var e;return Wn(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Wn(e.prototype)||(e=void 0),U(e)&&null===(e=e[Yn])&&(e=void 0)),void 0===e?Array:e}(t))(e)},function(t,e,n){for(var r,o,i=zt(t),a=pt(i),c=bt(e,n,3),u=Tt(a.length),l=0,d=Dn?Gn(t,u):Fn?Gn(t,0):void 0;u>l;l++)if((Vn||l in a)&&(o=c(r=a[l],l,i),Rn))if(Dn)d[l]=o;else if(o)switch(Rn){case 3:return!0;case 5:return r;case 6:return l;case 2:d.push(r)}else if($n)return!1;return Hn?-1:Bn||$n?$n:d}),Un=!0;"find"in[]&&Array(1).find(function(){Un=!1}),_t(_t.P+_t.F*Un,"Array",{find:function(t){return qn(this,t,arguments.length>1?arguments[1]:void 0)}}),ut("find"),F(F.S+F.F*!I,"Object",{defineProperty:R.f});var zn=v.Object,Xn=function(t,e,n){return zn.defineProperty(t,e,n)},Jn=rt.f,Kn=Function.prototype,Qn=/^\s*function ([^ (]*)/;function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Xn(t,r.key,r)}}"name"in Kn||J&&Jn(Kn,"name",{configurable:!0,get:function(){try{return(""+this).match(Qn)[1]}catch(t){return""}}});var tr=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r={},(n="store")in(e=this)?Xn(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,r;return e=t,(n=[{key:"has",value:function(t){return this.store.hasOwnProperty(t)}},{key:"remember",value:function(t,e){return this.has(t)||(this.store[t]={value:e()}),this.store[t].value}},{key:"forget",value:function(t){t?this.has(t)&&delete this.store[t]:this.store={}}}])&&Zn(e.prototype,n),r&&Zn(e,r),t}();function er(t){return""===t||t}var nr={nothing:function(t){},after:function(t){rr(t.dplh,t.targetNode,t)},before:function(t){ir(t.targetNode.parent)?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(t!==e){var o=e[r][n],i=o.indexOf(e);o[i-1]!==t&&(t[r]===e[r]?(qe(o,t),i=o.indexOf(e)):rn(t,e[r]),o.splice(i,0,t))}}(t.dplh,t.targetNode):rr(t.dplh,t.targetNode.parent,t)},append:function(t){ir(t.targetNode)?(an(t.dplh,t.targetNode),t.targetNode.open||t.store.toggleOpen(t.targetNode)):rr(t.dplh,t.targetNode,t)},prepend:function(t){ir(t.targetNode)?(!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(t===e)throw"can't prepend to self";var r=e[n];r[0]!==t&&(rn(t,e),r.splice(0,0,t))}(t.dplh,t.targetNode),t.targetNode.open||t.store.toggleOpen(t.targetNode)):rr(t.dplh,t.targetNode,t)},"after target parent":function(t){rr(t.dplh,t.targetNode.parent,t)},"append prev":function(t){ir(t.targetPrev)?(an(t.dplh,t.targetPrev),t.targetPrev.open||t.store.toggleOpen(t.targetPrev)):rr(t.dplh,t.targetPrev,t)},"append current tree":function(t){ir(t.currentTree.rootData)&&an(t.dplh,t.currentTree.rootData)}};function rr(t,e,n){if(!e)return!1;var r=function(t,e){var n=t;for(;n;){if(e(n))return n;n=n.parent}}(e,function(t){return t.parent&&ir(t.parent)});return!!r&&(on(t,r),!0)}function or(t){var e;pr.hasOwnProperty(t._id)||(e=t.hasOwnProperty("draggable")?t.draggable:!t.parent||or(t.parent),pr[t._id]=e);return pr[t._id]}function ir(t){var e;fr.hasOwnProperty(t._id)||(e=t.hasOwnProperty("droppable")?t.droppable:!t.parent||ir(t.parent),fr[t._id]=e);return fr[t._id]}function ar(t,e,n,r){var o=e.length;if(r)for(var i=o-1;i>=0;i--){var a=e[i];if(a!==t.node&&n(a,i))return a}else for(var c=0;c<o;c++){var u=e[c];if(u!==t.node&&n(u,c))return u}}for(var cr,ur={"targetNode existed":function(t){return t.targetNode},"targetNode is placeholder":function(t){return t.targetNode.isDragPlaceHolder},"targetNode at top":function(t){return t.targetAtTop},"targetNode at bottom":function(t){return t.targetAtBottom},"targetNode is the second child of root":function(t){return t.currentTreeRootSecondChildExcludingDragging===t.targetNode},"currentTree existed":function(t){return t.currentTree},"currentTree empty":function(t){return!ar(t,t.currentTree.rootData.children,function(t){return t})},"placeholder existed":function(t){return t.dplhEl},"placeholder in currentTree":function(t){return t.dplhElInCurrentTree},"placeholder at top":function(t){return t.dplhAtTop},"targetNode is open":function(t){return t.targetNode.open},"targetNode has children excluding placeholder":function(t){return ar(t,t.targetNode.children,function(e){return e!==t.dplh})},"targetNode is 1st child":function(t){return ar(t,t.targetNode.parent.children,function(t){return t})===t.targetNode},"targetNode is last child":function(t){return ar(t,t.targetNode.parent.children,function(t){return t},!0)===t.targetNode},"on targetNode middle":function(t){return t.offset.y<=t.tiMiddleY},"at left":function(t){return t.offset.x<t.tiOffset.x},"at indent right":function(t){return t.offset.x>t.tiOffset.x+t.currentTree.indent}},lr=B(ur),dr=function(){var t=lr[sr],e=ur[t];ur[t]=function(){return Boolean(e.apply(void 0,arguments))}},sr=0;sr<lr.length;sr++)dr();var fr={},pr={};function hr(t){var e=this.store.trees,n=t.store,r={event:t.event,el:n.el,vm:this,node:this.data,store:this.store,dplh:this.store.dplh,draggableHelperData:{opt:t.options,store:n}};!function(t,e,n){var r=function(r){Xn(t,r,{get:function(){var t=this;return e.remember(r,function(){return n[r].call(t)})}})};for(var o in n)r(o)}(r,new tr,{nodeInnerEl:function(){return this.el.querySelector(".tree-node-inner")},offset:function(){return Ue(this.nodeInnerEl)},offset2:function(){return{x:this.offset.x+this.nodeInnerEl.offsetWidth,y:this.offset.y+this.nodeInnerEl.offsetHeight}},currentTree:function(){var t=this,n=e.find(function(e){return n=t.offset.x,r=t.offset.y,o=e.$el,(i=Ue(o)).x<=n&&i.x+o.offsetWidth>=n&&i.y<=r&&i.y+o.offsetHeight>=r;var n,r,o,i});if(n){var r=this.store;if(null==cr&&(cr=r),cr!==n){if(!er(r.crossTree)||!er(n.crossTree))return;cr=n}if(!er(n.droppable))return;return n}},currentTreeRootEl:function(){return document.getElementById(this.currentTree.rootData._id)},currentTreeRootOf4:function(){return gr(this.currentTreeRootEl,this.currentTree.space)},currentTreeRootSecondChildExcludingDragging:function(){var t=this;return this.currentTree.rootData.children.slice(0,3).filter(function(e){return e!==t.node})[1]},dplhEl:function(){return document.getElementById(this.dplh._id)},dplhElInCurrentTree:function(){return Boolean(this.currentTree.$el.querySelector("#".concat(this.dplh._id)))},dplhOf4:function(){return gr(this.dplhEl,this.currentTree.space)},dplhAtTop:function(){return Math.abs(this.dplhOf4.y-this.currentTreeRootOf4.y)<5},targetAtTop:function(){return Math.abs(this.tiOf4.y-this.currentTreeRootOf4.y)<5},targetAtBottom:function(){return Math.abs(this.tiOf4.y2-this.currentTreeRootOf4.y2)<5},targetNode:function(){var t=this.currentTree;if(!t)throw"no currentTree";for(var e=this.offset,n=(e.x,e.y),r=t.rootData;;){var o=r.children;if(!o)break;if(this.node.parent===r&&(o=o.slice()).splice(o.indexOf(this.node),1),0===o.length)break;var i=tn(o,function(e){var r=document.getElementById(e._id),o=Ue(r).y;return o+r.offsetHeight+t.space<n?-1:o<=n?0:1},null,null,!0);if(!(r=i.hit?i.value:i.bigger?o[i.index-1]:i.value)){r=o[0];break}if(!r)break;var a=gr(document.getElementById(r._id).querySelector(".tree-node-inner"),t.space);if(a.y<=n&&n<=a.y2)break}return r},targetNodeEl:function(){return document.getElementById(this.targetNode._id)},tiInnerEl:function(){return this.targetNodeEl.querySelector(".tree-node-inner")},tiOffset:function(){return Ue(this.tiInnerEl)},tiOf4:function(){return gr(this.tiInnerEl,this.currentTree.space)},tiMiddleY:function(){return this.tiOffset.y+this.tiInnerEl.offsetHeight/2},targetPrevEl:function(){var t=this.targetNodeEl.previousSibling;return Ke(t,"dragging")&&(t=t.previousSibling),t},targetPrev:function(){var t=this.targetPrevEl.getAttribute("id");return this.currentTree.getNodeById(t)}});var o={},i=function(t){if(!o.hasOwnProperty(t)){var e;try{e=ur[t](r)}catch(n){e=n;try{process.env.DEVELOPE_SELF&&console.warn("failed to execute rule '".concat(t,"'"),n)}catch(t){}}o[t]=e}return o[t]};!0===i("currentTree existed")?!1===i("targetNode is placeholder")?!0===i("targetNode is the second child of root")?!1===i("targetNode has children excluding placeholder")?!0===i("on targetNode middle")?nr.before(r):!1===i("on targetNode middle")&&(!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r)):!0===i("targetNode has children excluding placeholder")&&nr.prepend(r):!1===i("targetNode is the second child of root")&&(!1===i("currentTree empty")?!0===i("targetNode at top")?!0===i("placeholder in currentTree")?!1===i("targetNode has children excluding placeholder")?!1===i("on targetNode middle")?!1===i("at indent right")?nr.after(r):!0===i("at indent right")&&nr.append(r):!0===i("on targetNode middle")&&nr.before(r):!0===i("targetNode has children excluding placeholder")&&(!1===i("on targetNode middle")?nr.prepend(r):!0===i("on targetNode middle")&&nr.before(r)):!1===i("placeholder in currentTree")&&nr.before(r):!1===i("targetNode at top")&&(!1===i("targetNode at bottom")?!0===i("placeholder at top")?nr.prepend(r):!1===i("placeholder at top")&&(!0===i("targetNode has children excluding placeholder")?nr.prepend(r):!1===i("targetNode has children excluding placeholder")&&(!1===i("targetNode is 1st child")?!1===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r):!1===i("on targetNode middle")&&(!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r)):!0===i("targetNode is last child")&&(!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r)):!0===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?nr.append(r):!1===i("targetNode is last child")&&(!1===i("on targetNode middle")?!1===i("at indent right")?nr.after(r):!0===i("at indent right")&&nr.append(r):!0===i("on targetNode middle")&&(!1===i("at indent right")?nr.after(r):!0===i("at indent right")&&nr.append(r)))))):!0===i("targetNode at bottom")&&(!0===i("placeholder in currentTree")?!1===i("on targetNode middle")?!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r):!0===i("on targetNode middle")&&nr.append(r):!1===i("placeholder in currentTree")&&nr.append(r))):!0===i("currentTree empty")&&nr["append current tree"](r)):!0===i("targetNode is placeholder")&&(!1===i("targetNode at bottom")?!1===i("targetNode is the second child of root")?!0===i("targetNode is 1st child")?!1===i("targetNode is last child")||!0===i("targetNode is last child")&&(!1===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):i("at left"):!0===i("on targetNode middle")&&(!0===i("at left")?nr["after target parent"](r):i("at left"))):!1===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")):!1===i("on targetNode middle")&&(!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right"))):!1===i("targetNode is last child")&&(!0===i("on targetNode middle")?!0===i("at left")||!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")):!1===i("on targetNode middle")&&(!0===i("at left")||!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right"))))):!0===i("targetNode is the second child of root")&&(!0===i("on targetNode middle")?!0===i("at indent right")?nr["append prev"](r):i("at indent right"):!1===i("on targetNode middle")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right"))):!0===i("targetNode at bottom")&&(!0===i("targetNode is 1st child")?!1===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):i("at left"):!0===i("on targetNode middle")&&(!1===i("at left")||!0===i("at left")&&nr["after target parent"](r)):!1===i("targetNode is 1st child")&&(!1===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")):!0===i("on targetNode middle")&&(!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")))))):i("currentTree existed")}function gr(t,e){var n=Ue(t);return n.x2=n.x+t.offsetWidth,n.y2=n.y+t.offsetHeight+e,n}hr.dragStart=function(){},hr.dragEnd=function(){cr=null,fr={},pr={}};var vr=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="DraggableTreeNode.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({},0,{extends:cn,name:"TreeNode",mounted:function(){var t=this;if(this.store.isNodeDraggable=or,this.store.isNodeDroppable=ir,!this.isRoot&&!this.data.isDragPlaceHolder){var e=this.store.dplh;this.$watch("store.draggable",function(n){if(er(n)){var r=t.store.getTriggerEl?t.store.getTriggerEl(t):t.$el.querySelector(".tree-node-inner");t._draggableDestroy=Mn(r,{getEl:function(){return t.$el},minTranslate:10,drag:function(n,r,o){hr.dragStart();var i={event:n,options:r,store:o};if(t.store.ondragstart&&!1===t.store.ondragstart(t.data,i))return!1;if(!or(t.data))return!1;t.store.$emit("drag",t.data);var a=t.data.parent.children;t.startPosition={siblings:a,index:a.indexOf(t.data)},e.innerStyle.height=o.el.offsetHeight+"px",on(e,t.data),t.data.class+=" dragging"},moving:function(e,n,r){if(0!==r.movedCount){var o={event:e,options:n,store:r};return hr.call(t,o)}},drop:function(n,r,o){hr.dragEnd();var i={event:n,options:r,store:o};if(t.store.ondragend&&!1===t.store.ondragend(t.data,i))qe(e.parent.children,e);else{var a=e._vm.store,c=a!==t.store?t.store:null;on(t.data,e),qe(e.parent.children,e),t.data.class=t.data.class.replace(/(^| )dragging( |$)/g," "),a.$emit("drop",t.data,a,c),c&&c.$emit("drop",t.data,a,c);var u=t.data.parent.children;u===t.startPosition.siblings&&u.indexOf(t.data)===t.startPosition.index||(t.store.$emit("change",t.data,a,c),c&&c.$emit("change",t.data,a,c)),t.startPosition=null}}})}else t._draggableDestroy&&(t._draggableDestroy(),t._draggableDestroy=null)},{immediate:!0})}}},void 0,void 0),yr=[],mr={_id:"draggable_tree_drag_placeHolder",level:null,droppable:!1,isDragPlaceHolder:!0,class:"draggable-placeholder",style:{},innerStyle:{},innerClass:"draggable-placeholder-inner",innerBackStyle:{},innerBackClass:"draggable-placeholder-inner-back"};var br=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="DraggableTree.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({},0,{extends:sn,props:{getTriggerEl:{type:Function},draggable:{},droppable:{default:!0},crossTree:{},ondragstart:{type:Function},ondragend:{type:Function}},components:{TreeNode:vr},data:function(){return{dplh:mr,trees:yr}},created:function(){yr.push(this)},mounted:function(){},beforeDestroy:function(){qe(yr,this)}},void 0,void 0);t.Tree=sn,t.TreeNode=cn,t.DraggableTree=br,t.DraggableTreeNode=vr,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=vue-draggable-nested-tree.min.js.map
