{% extends 'ccc/campaigns/base.html' %}
{% load tz static i18n staticfiles %}
{% block title %} Teams
{% endblock title %}
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'assets/plugins/select2/select2.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'assets/plugins/select2/select2-metronic.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'assets/plugins/data-tables/DT_bootstrap.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'assets/plugins/bootstrap-switch/css/bootstrap-switch.min.css' %}"/>
<!-- END PAGE LEVEL STYLES -->
{% endblock css %}
{% block content %}
<!-- BEGIN PAGE HEADER-->
<div class="row">
	<div class="col-md-12">
		<!-- BEGIN PAGE TITLE & BREADCRUMB-->
		<h3 class="page-title">
			My Teams <small></small>
		</h3>
		<ul class="page-breadcrumb breadcrumb">
			<li class="btn-group">
				<span class="primary yellow">
					<a href="#basic" data-toggle="modal" class="btn default">
						<i class="fa fa-plus"></i> Add Team <i class="fa fa-comments"></i>
						</a>
				</span>
			</li>
			<li>
				<i class="fa fa-comments"></i>
				<a href="{% url 'teams' %}">
					Teams
				</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<i class="fa fa-mailbox"></i>
				<a href="/other-teams/">
					Invited Teams
				</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<i class="fa fa-text"></i>
				<a href="#">
					Teams I created
				</a>
				<i class="fa fa-angle-right"></i>
			</li>
		</ul>
		<!-- END PAGE TITLE & BREADCRUMB-->
	</div>
</div>
<!-- END PAGE HEADER-->
<!-- BEGIN PAGE CONTENT-->
<div class="row">
	<div class="col-md-12">
		<!-- BEGIN EXAMPLE TABLE PORTLET-->
		<div class="portlet box blue">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-book"></i>My Teams
				</div>
				<div class="actions">
					<div class="btn-group">
						<a class="btn default" href="#" data-toggle="dropdown">
							Columns <i class="fa fa-angle-down"></i>
						</a>
						<div id="sample_2_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
							<label><input type="checkbox" checked data-column="0">Created at</label>
							<label><input type="checkbox" checked data-column="1">Name</label>
							<label><input type="checkbox" checked data-column="2">Description</label>
							<label><input type="checkbox" checked data-column="3">Campaign</label>
							<label><input type="checkbox" checked data-column="4">Members</label>
							<label><input type="checkbox" checked data-column="5">Delete</label>
						</div>
					</div>
				</div>
			</div>
			<div class="portlet-body">
				<table class="table table-striped table-bordered table-hover table-full-width" id="sample_2">
					<thead>
					<tr>
						<th>
							<i class="fa fa-calendar"></i> Created at
						</th>
						<th>
							<i class="fa fa-info"></i> Name
						</th>
						<th>
							<i class="fa fa-info"></i> Description
						</th>
						<th>
							<i class="fa fa-user"></i> Campaign
						</th>
						<th class="hidden-xs">
							<i class="fa fa-user"></i> Members
						</th>
						<th>
							<i class="fa fa-trash-o"></i> Delete
						</th>
					</tr>
					</thead>
					<tbody>
					{% for team in teams %}
					<tr>
						<td>
							{{ team.date_created }}
						</td>
						<td>
							<a href="/team/{{ team.id }}/"> {{ team.name }}</a>
						</td>
						<td>
							{{ team.description }}
						</td>
						<td>
							{{ team.get_campaign}}
						</td>
						<td>
							{{ team.members }}
						</td>
						<td>
							<a href="/delete-team/{{ team.id }}/" class="btn btn-sm blue">Delete</a>
						</td>
					</tr>
					{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
		<!-- END EXAMPLE TABLE PORTLET-->
	</div>
</div>

<div class="modal fade" id="basic" tabindex="-1" role="basic" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
				<h4 class="modal-title">Create Team</h4>
			</div>
			<div class="modal-body">
				<form action="/create-team/" role="form" method="POST"
					  enctype="multipart/form-data" class="xform">
					<div class="input-group">
						<span class="input-group-addon">
							<i class="fa fa-user"></i>
						</span>
						<input type="text" name="name" placeholder="Team Name" class="form-control input-medium">
					</div>
					<br/>
					<div class="input-group">
						<span class="input-group-addon">
							<i class="fa fa-user"></i>
						</span>
						<input type="text" name="description" placeholder="Description" class="form-control input-medium">
					</div>
					<br/>
					<div class="input-group">
						<span class="input-group-addon">
							<i class="fa fa-phone"></i>
						</span>
						{% if numbers %}
						<select name="phone" id="" class="form-control input-medium">
							{% for number in  numbers %}
							<option value="{{ number.id }}">
								{{ number.twilio_number }}
							</option>
							{% endfor %}
						</select>
						{% else %}
							You have No Number to Add team
						{% endif %}
					</div>
					<br/>
					{% csrf_token %}
					<br/>
					<br/>
					<div class="form-group blue">
						<input type="checkbox" class="form-control" name="credit">
						Team members use my credit
					</div>
					<div class="form-group">
					</div>
					{% if numbers %}
					<div class="margiv-top-10">
						<input class="btn green" type="submit" value="Create Contact"/>
					</div>
					{% endif %}
				</form>
			</div>
		</div>
		<!-- /.modal-content -->
	</div></div>
<!-- /.modal-dialog -->
{% endblock content %}
{% block scripts %}
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script type="text/javascript" src="{% static 'assets/plugins/select2/select2.min.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/plugins/data-tables/jquery.dataTables.min.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/plugins/data-tables/DT_bootstrap.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/scripts/custom/tasks.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/plugins/bootstrap-wysihtml5/wysihtml5-0.3.0.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/scripts/custom/components-editors.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/plugins/bootstrap-switch/js/bootstrap-switch.min.js' %}"></script>


<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->

<script src="{% static 'assets/scripts/custom/table-advanced.js' %}"></script>
<script>
	$( document ).ready(function() {
  		TableAdvanced.init();
		ComponentsPickers.init();
		$('.img-rounded').popover({
      		html: true,
      		trigger: 'hover',
      		placement: 'top',
      		content: function () {
         		var src = $(this)[0].src
          		src = '<img class="img-rounded" style="float:right;width:200px;max-width:500px;"'+ 'src='+src+'/>'
        		return  src;
      		}
      	});
    });
</script>
<style>
    td{
        text-align: center;
    }
</style>
{% endblock scripts %}
