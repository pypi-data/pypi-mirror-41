{% extends 'ccc/beacons/base.html' %}
{% load staticfiles %}
{% block title %} Beacons Dashboard {% endblock title %}
{% block page-body %}
<!-- BEGIN DASHBOARD STATS -->
<div ng-controller="BeaconListCtrl">
    <div infinite-scroll='beacon_list.nextPage()' infinite-scroll-disabled='beacon_list.busy' infinite-scroll-distance='1'>
        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" ng-repeat="beacons in beacon_list.items">
            <div ng-class="$odd ? 'dashboard-stat green' : 'dashboard-stat blue'">
                <div class="visual">
                    <i class="fa fa-bullseye"></i>
                </div>
                <div class="details">
                    <div class="number">
                        {$ beacons.name $}
                    </div>
                    <div class="desc">
                    </div>
                </div>
                <a class="more" href="{% url 'ccc:beacons_details' 1 %}">
                    View more <i class="m-icon-swapright m-icon-white"></i>
                </a>
            </div>
        </div>
    </div>
</div>
<!-- END DASHBOARD STATS -->
<div class="clearfix">
</div>
<div class="col-md-12">
    <!-- BEGIN SAMPLE TABLE PORTLET-->
    <div class="portlet box green">
        <div class="portlet-title">
            <div class="caption">
                <i class="fa fa-bar-chart-o"></i> Beacons Analytics
            </div>
        </div>
        <div class="portlet-body">
            <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>

        </div>
    </div>
</div>

<div class="clearfix">
</div>
{% endblock page-body %}
{% block extrascripts %}
<script src="{% static 'js/jquery.multi-select.js' %}" type="text/javascript"></script>
<script src="{% static 'js/beacons/controllers/dashboard.js' %}" type="text/javascript"></script>
<script src="//code.highcharts.com/highcharts.js" type="text/javascript"></script>
<script src="//code.highcharts.com/modules/exporting.js" type="text/javascript"></script>
<script type="text/javascript">
jQuery(document).ready(function() {
    $(function () {
        $('#container').highcharts({
            colors: ['#8CC8FF', '#f7a35c'],
            chart: {
                type: 'column'
            },
            title: {
                text: ''
            },
            subtitle: {
                text: ''
            },
            xAxis: {
                categories: ['Beacon 1', 'Beacon 2', 'Beacon 3']
            },
            yAxis: {
                title: {
                    text: 'No of Campaigns/Responses'
                }
            },
            tooltip: {
                enabled: true,
                formatter: function() {
                    return '<b>'+ this.series.name +'</b><br/>'+
                        this.x +': '+ this.y;
                }
            },
            plotOptions: {
                line: {
                    dataLabels: {
                        enabled: true,
                        style: {
                            textShadow: '0 0 3px white, 0 0 3px white'
                        }
                    },
                    enableMouseTracking: true
                }
            },
            series: [{
                name: 'No of Campaigns sent',
                data: [7, 6, 9]
            },
             {
                name: 'No of Responses',
                data: [4, 5, 6]
            }
            ]
        });
    });
});
</script>
{% endblock extrascripts %}
