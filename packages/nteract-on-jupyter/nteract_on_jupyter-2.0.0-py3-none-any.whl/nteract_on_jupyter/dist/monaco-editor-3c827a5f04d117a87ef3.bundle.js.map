{"version":3,"sources":["webpack:////Users/kylek/code/src/github.com/nteract/nteract-ext/packages/monaco-editor/src/index.tsx"],"names":["__webpack_require__","r","__webpack_exports__","d","MonacoEditor","lodash__WEBPACK_IMPORTED_MODULE_0__","monaco_editor__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","[object Object]","super","arguments","this","monacoContainerRef","componentWillReceiveProps","Object","monaco","props","onChange","getValue","create","current","value","language","mode","theme","minimap","enabled","autoIndent","editorFocused","focus","onDidChangeModelContent","bind","setValue","model","getModel","getModeId","setModelLanguage","setTheme","nextProps","dispose","className","ref","defaultProps"],"mappings":"2FAAAA,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,4BAAAE,IAAA,IAAAC,EAAAL,EAAA,IAAAM,EAAAN,EAAA,MAAAO,EAAAP,EAAA,GAGe,MAAAI,UAA2BG,EAAA,UAC1CC,cACAC,SAAAC,WACAC,KAAAC,mBAAkCL,EAAA,YAElCC,qBACAG,KAAAE,0BAAyCC,OAAAT,EAAA,SAAAS,CAAQH,KAAAE,0BAAA,GAEjDL,0BACAG,KAAAI,QAAAJ,KAAAK,MAAAC,UACAN,KAAAK,MAAAC,SAAAN,KAAAI,OAAAG,YAGAV,oBACAG,KAAAI,OAAsBT,EAAA,OAAMa,OAAAR,KAAAC,mBAAAQ,QAAA,CAC5BC,MAAAV,KAAAK,MAAAK,MACAC,SAAAX,KAAAK,MAAAO,KACAC,MAAAb,KAAAK,MAAAQ,MACAC,QAAA,CACAC,SAAA,GAEAC,YAAA,IAEAhB,KAAAK,MAAAY,eACAjB,KAAAI,OAAAc,QAEAlB,KAAAI,OAAAe,wBAAAnB,KAAAmB,wBAAAC,KAAApB,OAEAH,qBACA,IAAAG,KAAAI,OACA,OAEAJ,KAAAI,OAAAG,aAAAP,KAAAK,MAAAK,OAEAV,KAAAI,OAAAiB,SAAArB,KAAAK,MAAAK,OAEA,MAAAY,EAAAtB,KAAAI,OAAAmB,WACAD,GAAAtB,KAAAK,MAAAO,MAAAU,EAAAE,cAAAxB,KAAAK,MAAAO,MACYjB,EAAA,OAAM8B,iBAAAH,EAAAtB,KAAAK,MAAAO,MAElBZ,KAAAK,MAAAQ,OACYlB,EAAA,OAAM+B,SAAA1B,KAAAK,MAAAQ,OAGlBhB,0BAAA8B,GACA3B,KAAAI,QAAAJ,KAAAI,OAAAG,aAAAoB,EAAAjB,OAEAV,KAAAI,OAAAiB,SAAAM,EAAAjB,OAGAb,uBACAG,KAAAI,QACAJ,KAAAI,OAAAwB,UAGA/B,SACA,OAAgBD,EAAA,cAAmB,OAASiC,UAAA,0BAAAC,IAAA9B,KAAAC,sBAG5CR,EAAAsC,aAAA,CACAzB,SAAA,OACAW,eAAA,EACAL,KAAA","file":"monaco-editor-3c827a5f04d117a87ef3.bundle.js","sourcesContent":["import { debounce } from \"lodash\";\nimport { editor } from \"monaco-editor\";\nimport * as React from \"react\";\nexport default class MonacoEditor extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.monacoContainerRef = React.createRef();\n    }\n    componentWillMount() {\n        this.componentWillReceiveProps = debounce(this.componentWillReceiveProps, 0);\n    }\n    onDidChangeModelContent() {\n        if (this.monaco && this.props.onChange) {\n            this.props.onChange(this.monaco.getValue());\n        }\n    }\n    componentDidMount() {\n        this.monaco = editor.create(this.monacoContainerRef.current, {\n            value: this.props.value,\n            language: this.props.mode,\n            theme: this.props.theme,\n            minimap: {\n                enabled: false\n            },\n            autoIndent: true\n        });\n        if (this.props.editorFocused) {\n            this.monaco.focus();\n        }\n        this.monaco.onDidChangeModelContent(this.onDidChangeModelContent.bind(this));\n    }\n    componentDidUpdate() {\n        if (!this.monaco) {\n            return;\n        }\n        if (this.monaco.getValue() !== this.props.value) {\n            // FIXME: calling setValue resets cursor position in monaco. It shouldn't!\n            this.monaco.setValue(this.props.value);\n        }\n        const model = this.monaco.getModel();\n        if (model && this.props.mode && model.getModeId() !== this.props.mode) {\n            editor.setModelLanguage(model, this.props.mode);\n        }\n        if (this.props.theme) {\n            editor.setTheme(this.props.theme);\n        }\n    }\n    componentWillReceiveProps(nextProps) {\n        if (this.monaco && this.monaco.getValue() !== nextProps.value) {\n            // FIXME: calling setValue resets cursor position in monaco. It shouldn't!\n            this.monaco.setValue(nextProps.value);\n        }\n    }\n    componentWillUnmount() {\n        if (this.monaco) {\n            this.monaco.dispose();\n        }\n    }\n    render() {\n        return (React.createElement(\"div\", { className: \"monaco cm-s-composition\", ref: this.monacoContainerRef }));\n    }\n}\nMonacoEditor.defaultProps = {\n    onChange: () => { },\n    editorFocused: false,\n    mode: \"text/plain\"\n};\n"],"sourceRoot":""}